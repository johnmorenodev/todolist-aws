# Production profile
# Activated by: SPRING_PROFILES_ACTIVE=prod
# All sensitive values should come from environment variables

spring:
  application:
    name: ${SPRING_APPLICATION_NAME:todolist}
  
  datasource:
    url: ${SPRING_DATASOURCE_URL}
    driver-class-name: ${SPRING_DATASOURCE_DRIVER_CLASS_NAME:org.postgresql.Driver}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
  
  jpa:
    hibernate:
      ddl-auto: ${SPRING_JPA_HIBERNATE_DDL_AUTO:validate}
    show-sql: ${SPRING_JPA_SHOW_SQL:false}
  
  flyway:
    enabled: ${SPRING_FLYWAY_ENABLED:true}
    url: ${spring.datasource.url}
    user: ${spring.datasource.username}
    password: ${spring.datasource.password}
  
  jackson:
    serialization:
      WRITE_DATES_AS_TIMESTAMPS: ${SPRING_JACKSON_SERIALIZATION_WRITE_DATES_AS_TIMESTAMPS:false}

server:
  port: ${SERVER_PORT:8080}

logging:
  level:
    root: ${LOGGING_LEVEL_ROOT:INFO}
    org.springframework.web: ${LOGGING_LEVEL_SPRING_WEB:INFO}
    org.hibernate.SQL: ${LOGGING_LEVEL_HIBERNATE_SQL:WARN}

jwt:
  secret: ${JWT_SECRET}
  access:
    ttl-seconds: ${JWT_ACCESS_TTL_SECONDS:900}
  refresh:
    ttl-seconds: ${JWT_REFRESH_TTL_SECONDS:1209600}

app:
  cors:
    allowed-origin: ${APP_CORS_ALLOWED_ORIGIN}
  cookies:
    secure: ${APP_COOKIES_SECURE:true}
    same-site: ${APP_COOKIES_SAME_SITE:None}
    path: ${APP_COOKIES_PATH:/}
    domain: ${APP_COOKIES_DOMAIN:}
  refresh:
    fallback-enabled: ${APP_REFRESH_FALLBACK_ENABLED:true}

